// sample(primary)
for (auto&& [key, value] : map)
  // ...
// end-sample
